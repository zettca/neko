(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),o=a.n(i),s=(a(91),a(45)),l=a.n(s),c=function(e){return{app:{textAlign:"center",overflow:"hidden"},logo:{height:"20vmin"},header:{backgroundColor:"#282c34",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)",color:"white"},button:{margin:e.spacing(1),marginBottom:e.spacing(4),fontWeight:"bold"}}},u=a(38),h=a(173),d=a(174),g=a(48),m=a(66),p=a.n(m),f=a(20),y=a(52),v=a.n(y),b=a(12),w=a(11),k=a(21),E=a(22),W=a(17),j=a(24),O=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(k.a)(this,Object(E.a)(t).call(this,e))).state={result:"",loading:!0,trigger:!1},a.triggerNext=a.triggerNext.bind(Object(W.a)(a)),a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.ws,n=t.steps.chatUser,r=n.message,i=n.metadata;a.send(r),a.onmessage=function(t){var a=t.data;console.log("Message from server ",a),i.result=a,e.setState({loading:!1,result:a}),e.triggerNext()}}},{key:"triggerNext",value:function(){var e=this;this.setState({trigger:!0},(function(){e.props.triggerNextStep("TESTPLS")}))}},{key:"render",value:function(){return null}}]),t}(n.Component),S=a(69),x=a.n(S);var N=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(k.a)(this,Object(E.a)(t).call(this,e))).state={loading:!0,result:"",trigger:!1},a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://web.tecnico.ulisboa.pt/~bruno.s.henriques/api/forecast/","?coords=38.731,-9.311")).then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,result:t}),e.triggerNext()}))}},{key:"triggerNext",value:function(){var e=this;this.setState({trigger:!0},(function(){e.props.triggerNextStep("cena")}))}},{key:"render",value:function(){var e,t=this.state,a=t.loading,n=t.result;return r.a.createElement("div",null,a?"looking at the skies...":r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{icon:String(n.currently.icon).toUpperCase().replace(/-/g,"_"),color:"orange",animate:!0}),r.a.createElement("div",null,"It's ",(e=n.currently.temperature,Math.round((Number(e)-32)*(5/9))),"\xb0C"),r.a.createElement("div",null,n.currently.summary)))}}]),t}(n.Component);function M(e){return e[Math.floor(Math.random()*e.length)]}var T=a(19),D=a.n(T),B=a(70),C=(a(62),"weekend");function Y(e,t){var a=e.trips,n=function(e,t){if(null==t)return null;if(e.getDay()%6===0)return C;var a=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value,l=[s.start,s.end].map((function(e){return D()(e,"DD/MM/YYYY")})),c=Object(u.a)(l,2),h=c[0],d=c[1];if(D()(e).isBetween(h,d,"day","[]"))return s.type}}catch(g){n=!0,r=g}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return C}(new Date,e.date),i=a.filter((function(e){return e.type===n&&e.stations[0].station===t})).filter((function(e){return!function(e){var t=[D()(new Date),D()(e,"HH:mm")].map((function(e){return e.minutes()+60*e.hours()})),a=Object(u.a)(t,2);return a[0]>a[1]}(e.stations[0].hour)})).map((function(e){return{hour:e.stations[0].hour,stations:[e.stations[0].station,e.stations[e.stations.length-1].station]}}));return r.a.createElement(r.a.Fragment,null,0===i.length?r.a.createElement("div",null,"No Shuttle trips today! ",r.a.createElement(B.Twemoji,{svg:!0,text:"\u274c \ud83d\ude8c \ud83d\ude22 \ud83d\ude2d"})):i.map((function(e,t){return r.a.createElement("div",{key:t},"".concat(e.hour.replace(/\./g,":")," ").concat(e.stations.join(" > ")))})))}var A=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(k.a)(this,Object(E.a)(t).call(this,e))).state={loading:!0,result:"",trigger:!1},a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://web.tecnico.ulisboa.pt/~bruno.s.henriques/api/shuttle/").then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,result:t}),e.triggerNext()}))}},{key:"triggerNext",value:function(){var e=this;this.setState({trigger:!0},(function(){e.props.triggerNextStep()}))}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.result,n=this.props.previousStep;return r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:"0.4rem"}},"Shuttles leaving from ",n.value,":"),t?r.a.createElement("div",null,"getting Shuttles trips..."):r.a.createElement("div",null,Y(a,n.value)))}}]),t}(n.Component);var I=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(k.a)(this,Object(E.a)(t).call(this,e))).state={loading:!0,result:"",trigger:!1},a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://web.tecnico.ulisboa.pt/~bruno.s.henriques/api/canteen/").then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,result:t}),e.triggerNext()}))}},{key:"triggerNext",value:function(){var e=this;this.setState({trigger:!0},(function(){e.props.triggerNextStep()}))}},{key:"render",value:function(){var e,t=this.state,a=t.loading,n=t.result,i=null;return n&&(i=(e=n,e.filter((function(e){return D()().isBefore(D()(e.day,"DD/MM/YYYY"))})).sort((function(e,t){return D()(e.day,"DD/MM/YYYY")-D()(t.day,"DD/MM/YYYY")})))[0]),r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:"0.4rem"}},"Alameda Menu ",i&&i.day),a?r.a.createElement("div",null,"getting canteen menu..."):r.a.createElement("div",null,function(e){var t=e.meal;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("div",{key:t,style:{textAlign:"left"}},r.a.createElement("h3",{style:{marginBottom:0}},e.type),e.info.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("b",null,e.type),": ",e.name)})))})))}(i)))}}]),t}(n.Component),F=[{id:"shuttle0",message:"Where are you leaving from?",trigger:"shuttleLocs"},{id:"shuttleLocs",options:[{value:"Alameda",label:"Alameda",trigger:"shuttleShow"},{value:"Taguspark",label:"Tagus",trigger:"shuttleShow"}]},{id:"shuttleShow",component:r.a.createElement(A,null),waitAction:!0,trigger:"initOpts1"}],H=[{id:"canteen0",component:r.a.createElement(I,null),trigger:"initOpts1"}],U=[].concat([{id:"ist0",message:"What would you like to know about T\xe9cnico?",trigger:"istOpts"},{id:"istOpts",options:[{value:"Shuttle",label:"Shuttle",trigger:"shuttle0"},{value:"Canteen",label:"Canteen",trigger:"canteen0"},{value:"Labs",label:"Tagus Labs",trigger:"lab0"}]}],H,F,[{id:"lab0",message:"You want labs? bad luck!",trigger:"initOpts1"}]),L=[["What goes up and down but does not move?","Stairs"],["Where should a 500 pound alien go?","On a diet"],["What did one toilet say to the other?","You look a bit flushed."],["Why did the picture go to jail?","Because it was framed."],["What did one wall say to the other wall?","I'll meet you at the corner."],["What did the paper say to the pencil?","Write on!"],["What do you call a boy named Lee that no one talks to?","Lonely"],["What gets wetter the more it dries?","A towel."],["Why do bicycles fall over?","Because they are two-tired!"],["Why do dragons sleep during the day?","So they can fight knights!"],["What did Cinderella say when her photos did not show up?","Someday my prints will come!"],["Why was the broom late?","It over swept!"],["What part of the car is the laziest?","The wheels, because they are always tired!"],["What did the stamp say to the envelope?","Stick with me and we will go places!"],["What is blue and goes ding dong?","An Avon lady at the North Pole!"],["We're you long in the hospital?","No, I was the same size I am now!"],["Why couldn't the pirate play cards?","Because he was sitting on the deck!"],["What did the laundryman say to the impatient customer?","Keep your shirt on!"],["What's the difference between a TV and a newspaper?","Ever tried swatting a fly with a TV?"],["What did one elevator say to the other elevator?","I think I'm coming down with something!"],["Why was the belt arrested?","Because it held up some pants!"],["Why was everyone so tired on April 1st?","They had just finished a March of 31 days."],["Which hand is it better to write with?","Neither, it's best to write with a pen!"],["Why can't your nose be 12 inches long?","Because then it would be a foot!"],["What makes the calendar seem so popular?","Because it has a lot of dates!"],["Why did Mickey Mouse take a trip into space?","He wanted to find Pluto!"],["What is green and has yellow wheels?","Grass\u2026..I lied about the wheels!"],["What is it that even the most careful person overlooks?","Her nose!"],["Did you hear about the robbery last night?","Two clothes pins held up a pair of pants!"],["Why do you go to bed every night?","Because the bed won't come to you!"],["Why did Billy go out with a prune?","Because he couldn't find a date!"],["Why do eskimos do their laundry in Tide?","Because it's too cold out-tide!"],["How do you cure a headache?","Put your head through a window and the pane will just disappear!"],["What has four wheels and flies?","A garbage truck!"],["What kind of car does Mickey Mouse's wife drive?","A minnie van!"],["Why don't traffic lights ever go swimming?","Because they take too long to change!"],["Why did the man run around his bed?","To catch up on his sleep!"],["Why did the robber take a bath before he stole from the bank?","He wanted to make a clean get away!"]],V=0,P=[].concat([{id:"joke0",message:function(){return(V=M(L))[0]},trigger:"joke1"},{id:"joke1",delay:3e3,message:function(e){e.previousValue,e.steps;return V&&V[1]||"I forgot it..."},trigger:"jokeMore"},{id:"jokeMore",options:[{value:"More",label:"One More!",trigger:"joke0"},{value:"Stop",label:"Enough",trigger:"initOpts1"}]}]),z=v.a.get("name"),J=new WebSocket("ws://localhost:8000"),R=[{id:"1",message:function(){return M(["Hello","Hey","Howdy","Welcome"].map((function(e){return e+(z?" ".concat(z,"!"):"!")})))},trigger:function(){return z?"initOpts1":"initName"}},{id:"initName",message:"I haven't met you before, what's your name?",trigger:"initAskUsername"},{id:"initAskUsername",user:!0,trigger:"initNiceToMeetYou"},{id:"initNiceToMeetYou",message:function(e){var t=e.previousValue;return v.a.set("name",t),"Nice to meet you {previousValue}"},trigger:"initOpts1"},{id:"initOpts1",message:M(["What would you like to do?","How can I help?","Tell me what to do!"]),trigger:"initOpts2"},{id:"initOpts2",options:[{value:"Forecast",label:"Forecast",trigger:"weather0"},{value:"Chat",label:"Chat",trigger:"chat0"},{value:"Jokes",label:"Jokes",trigger:"joke0"},{value:"IST Tools",label:"IST Tools",trigger:"ist0"}]}],q=[{id:"weather0",message:"Forecast comming right up!",trigger:"weather1"},{id:"weather1",component:r.a.createElement(N,null),waitAction:!0,trigger:"weatherResponse"},{id:"weatherResponse",message:"There you go!",trigger:"initOpts1"}],G=[{id:"chat0",message:"Say something! \ud83d\ude0a",trigger:"chatUser"},{id:"chatUser",user:!0,trigger:"chatSocket",metadata:{result:""}},{id:"chatSocket",component:r.a.createElement(O,{ws:J}),asMessage:!0,replace:!0,waitAction:!0,trigger:"chatResponse"},{id:"chatResponse",message:function(e){e.previousValue;return e.steps.chatUser.metadata.result},trigger:"chatUser"}],K=[].concat(R,Object(f.a)(P),Object(f.a)(U),q,G),$=a(71),_=a.n($),Q=function(){return r.a.createElement(p.a,{floating:!0,botAvatar:_.a,botDelay:200,userDelay:100,steps:K})},X={background:"#eeeeee",fontFamily:"Arial",headerBgColor:"#009de0",headerFontColor:"#ffffff",headerFontSize:"18px",botBubbleColor:"#009de0",botFontColor:"#ffffff",userBubbleColor:"#ffffff",userFontColor:"#4a4a4a"},Z=function(){return r.a.createElement(g.ThemeProvider,{theme:X},r.a.createElement(Q,null))},ee=function(e){return{paperino:{margin:e.spacing(2),padding:e.spacing(2),paddingBottom:e.spacing(4)},container:{display:"flex",flexWrap:"wrap",flexDirection:"column"},textField:{margin:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px"),minWidth:"30vw"},dense:{marginTop:19},menu:{width:200},fab:{margin:e.spacing(1),maxWidth:"10rem"}}},te=a(172),ae=a(169),ne=a(175),re=a(72),ie=a.n(re),oe=function(e){var t=e.classes;return r.a.createElement(ae.a,{className:t.paperino},r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(ne.a,{id:"title",label:"Title",placeholder:"Event title",className:t.textField,margin:"normal"}),r.a.createElement(ne.a,{id:"description",label:"Description",placeholder:"Event description",className:t.textField,margin:"normal"}),r.a.createElement(ne.a,{id:"date",label:"Date",placeholder:"Your Date",className:t.textField,margin:"normal"}),r.a.createElement(te.a,{variant:"extended","aria-label":"submit",className:t.fab,onClick:function(){return alert("oi")}},"Submit",r.a.createElement(ie.a,{className:t.extendedIcon}))))},se=l()(ee,{withTheme:!0})(oe),le=a(73),ce=a.n(le),ue=function(e){var t=e.classes,a=r.a.useState(!1),n=Object(u.a)(a,2),i=n[0],o=n[1];return r.a.createElement("div",{className:t.app},r.a.createElement("main",{className:t.header},r.a.createElement("div",{style:{transition:"ease"}},r.a.createElement("img",{src:ce.a,className:t.logo,alt:"logo"}),r.a.createElement("p",null,"This web app does stuff!"),r.a.createElement(h.a,{variant:"contained",color:"secondary",className:t.button,onClick:function(){o((function(e){return!e}))}},"Do stuff")),r.a.createElement(d.a,{direction:"up",in:i,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",null,r.a.createElement(se,null)))),r.a.createElement(Z,null))},he=l()(c,{withTheme:!0})(ue);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,a){},71:function(e,t,a){e.exports=a.p+"static/media/neko.6c24478b.svg"},73:function(e,t,a){e.exports=a.p+"static/media/calendar.e4f0b22b.svg"},86:function(e,t,a){e.exports=a(138)},91:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.a0952479.chunk.js.map